{"ts":1347298921439,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html> \n<html> \n<head> \n<meta name=\"viewport\" content=\"initial-scale=1.0, user-scalable=no\"/> \n<meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"/> \n<title>Reverse Geocoding</title> \n\n<script type=\"text/javascript\" src=\"http://maps.googleapis.com/maps/api/js?sensor=false\"></script> \n<script type=\"text/javascript\"> \n  var geocoder;\n\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(successFunction, errorFunction);\n} \n//Get the latitude and the longitude - Test Update for FishEye\nfunction successFunction(position) {\n    var lat = position.coords.latitude;\n    var lng = position.coords.longitude;\n    codeLatLng(lat, lng)\n}\n\nfunction errorFunction(){\n    alert(\"Geocoder failed\");\n}\n\n  function initialize() {\n    geocoder = new google.maps.Geocoder();\n  }\n\n  function codeLatLng(lat, lng) {\n\n    var latlng = new google.maps.LatLng(lat, lng);\n    geocoder.geocode({'latLng': latlng}, function(results, status) {\n      if (status == google.maps.GeocoderStatus.OK) {\n      console.log(results);\n        if (results[1]){\n         //formatted address\n         alert(results[0].formatted_address);\n        //find country name\n             for (var i=0; i<results[0].address_components.length; i++) {\n            for (var b=0;b<results[0].address_components[i].types.length;b++) {\n\n            //there are different types that might hold a city admin_area_lvl_1 usually does in come cases looking for sublocality type will be more appropriate\n                if (results[0].address_components[i].types[b] == \"locality\") {\n                    //this is the object you are looking for\n                    city= results[0].address_components[i];\n                    break;\n                }\n            }\n        }\n        //city data\n        alert(city.short_name + \" \" + city.long_name)\n\n\n        } else {\n          alert(\"No results found\");\n        }\n      } else {\n        alert(\"Geocoder failed due to: \" + status);\n      }\n    });\n  }\n</script> \n</head> \n<body onload=\"initialize()\"> \n\n</body> \n</html> "]],"start1":0,"start2":0,"length1":0,"length2":2057}]],"length":2057}
